"use strict";exports.id=526,exports.ids=[526],exports.modules={9526:(e,t,r)=>{r.d(t,{CreateTokenCommand:()=>Je,SSOOIDCClient:()=>ce});var n=r(1095),s=r(9359),i=r(8377),o=r(499),a=r(7122),c=r(7503),d=r(649),p=r(9389),u=r(1018),l=r(9146),h=r(5669),g=r(7135);const m=async(e,t,r)=>({operation:(0,g.a)(t).operation,region:await(0,g.b)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),y=e=>{const t=[];switch(e.operation){case"CreateToken":case"RegisterClient":case"StartDeviceAuthorization":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t},f={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var w=r(5122),b=r(8257),v=r(3058),x=r(1701),E=r(9987),S=r(3928),P=r(7809),I=r(3323),O=r(6228),k=r(2641),C=r(4572),A=r(3197),$=r(6652),D=r(3875);const R="required",_="fn",j="argv",z="ref",T=!0,U="isSet",q="booleanEquals",N="error",F="endpoint",H="tree",M="PartitionResult",G="getAttr",V={[R]:!1,type:"String"},B={[R]:!0,default:!1,type:"Boolean"},L={[z]:"Endpoint"},J={[_]:q,[j]:[{[z]:"UseFIPS"},!0]},W={[_]:q,[j]:[{[z]:"UseDualStack"},!0]},K={},Q={[_]:G,[j]:[{[z]:M},"supportsFIPS"]},X={[z]:M},Y={[_]:q,[j]:[!0,{[_]:G,[j]:[X,"supportsDualStack"]}]},Z=[J],ee=[W],te=[{[z]:"Region"}],re={version:"1.0",parameters:{Region:V,UseDualStack:B,UseFIPS:B,Endpoint:V},rules:[{conditions:[{[_]:U,[j]:[L]}],rules:[{conditions:Z,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:N},{conditions:ee,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:N},{endpoint:{url:L,properties:K,headers:K},type:F}],type:H},{conditions:[{[_]:U,[j]:te}],rules:[{conditions:[{[_]:"aws.partition",[j]:te,assign:M}],rules:[{conditions:[J,W],rules:[{conditions:[{[_]:q,[j]:[T,Q]},Y],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:K,headers:K},type:F}],type:H},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:N}],type:H},{conditions:Z,rules:[{conditions:[{[_]:q,[j]:[Q,T]}],rules:[{conditions:[{[_]:"stringEquals",[j]:[{[_]:G,[j]:[X,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:K,headers:K},type:F},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:K,headers:K},type:F}],type:H},{error:"FIPS is enabled but this partition does not support FIPS",type:N}],type:H},{conditions:ee,rules:[{conditions:[Y],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:K,headers:K},type:F}],type:H},{error:"DualStack is enabled but this partition does not support DualStack",type:N}],type:H},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:K,headers:K},type:F}],type:H}],type:H},{error:"Invalid Configuration: Missing Region",type:N}]},ne=(e,t={})=>(0,D.d)(re,{endpointParams:e,logger:t.logger});D.a.aws=$.a;var se=r(4321);var ie=r(4547),oe=r(5479);const ae=e=>{const t=e.httpAuthSchemes;let r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(e){const r=t.findIndex((t=>t.schemeId===e.schemeId));-1===r?t.push(e):t.splice(r,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){r=e},httpAuthSchemeProvider:()=>r,setCredentials(e){n=e},credentials:()=>n}};class ce extends l.a{constructor(...[e]){const t=(e=>{(0,l.j)(process.version);const t=(0,se.a)(e),r=()=>t().then(l.r),n=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??C.a,base64Encoder:e?.base64Encoder??C.b,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ne,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??y,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new O.a},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.b}],logger:e?.logger??new l.c,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??k.a,utf8Decoder:e?.utf8Decoder??A.a,utf8Encoder:e?.utf8Encoder??A.c}))(e);return(0,w.a)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??P.a,credentialDefaultProvider:e?.credentialDefaultProvider??b.a,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,v.a)({serviceId:n.serviceId,clientVersion:"3.621.0"}),maxAttempts:e?.maxAttempts??(0,E.a)(u.a),region:e?.region??(0,E.a)(a.b,a.a),requestHandler:S.a.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,E.a)({...u.b,default:async()=>(await r()).retryMode||I.d}),sha256:e?.sha256??x.a.bind(null,"sha256"),streamCollector:e?.streamCollector??S.b,useDualstackEndpoint:e?.useDualstackEndpoint??(0,E.a)(a.c),useFipsEndpoint:e?.useFipsEndpoint??(0,E.a)(a.d)}})(e||{}),r=(g=t,{...g,useDualstackEndpoint:g.useDualstackEndpoint??!1,useFipsEndpoint:g.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"});var g;const m=(0,a.e)(r),f=(0,p.c)(m),$=(0,n.b)(f),D=(0,o.b)($);var R;const _=((e,t)=>{const r={...(0,ie.a)(e),...(0,l.p)(e),...(0,oe.c)(e),...ae(e)};return t.forEach((e=>e.configure(r))),{...e,...(0,ie.b)(r),...(0,l.w)(r),...(0,oe.d)(r),...(n=r,{httpAuthSchemes:n.httpAuthSchemes(),httpAuthSchemeProvider:n.httpAuthSchemeProvider(),credentials:n.credentials()})};var n})((R=(0,u.d)(D),{...(0,h.a)(R)}),e?.extensions||[]);super(_),this.config=_,this.middlewareStack.use((0,n.a)(this.config)),this.middlewareStack.use((0,s.a)(this.config)),this.middlewareStack.use((0,i.a)(this.config)),this.middlewareStack.use((0,o.a)(this.config)),this.middlewareStack.use((0,u.c)(this.config)),this.middlewareStack.use((0,d.a)(this.config)),this.middlewareStack.use((0,c.d)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,c.e)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return m}getIdentityProviderConfigProvider(){return async e=>new c.a({"aws.auth#sigv4":e.credentials})}}var de=r(1208);class pe extends l.e{constructor(e){super(e),Object.setPrototypeOf(this,pe.prototype)}}class ue extends pe{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,ue.prototype),this.error=e.error,this.error_description=e.error_description}}class le extends pe{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,le.prototype),this.error=e.error,this.error_description=e.error_description}}class he extends pe{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,he.prototype),this.error=e.error,this.error_description=e.error_description}}class ge extends pe{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,ge.prototype),this.error=e.error,this.error_description=e.error_description}}class me extends pe{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,me.prototype),this.error=e.error,this.error_description=e.error_description}}class ye extends pe{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,ye.prototype),this.error=e.error,this.error_description=e.error_description}}class fe extends pe{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,fe.prototype),this.error=e.error,this.error_description=e.error_description}}class we extends pe{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,we.prototype),this.error=e.error,this.error_description=e.error_description}}class be extends pe{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,be.prototype),this.error=e.error,this.error_description=e.error_description}}class ve extends pe{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,ve.prototype),this.error=e.error,this.error_description=e.error_description}}class xe extends pe{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,xe.prototype),this.error=e.error,this.error_description=e.error_description}}class Ee extends pe{constructor(e){super({name:"InvalidRequestRegionException",$fault:"client",...e}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,Ee.prototype),this.error=e.error,this.error_description=e.error_description,this.endpoint=e.endpoint,this.region=e.region}}class Se extends pe{constructor(e){super({name:"InvalidClientMetadataException",$fault:"client",...e}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,Se.prototype),this.error=e.error,this.error_description=e.error_description}}class Pe extends pe{constructor(e){super({name:"InvalidRedirectUriException",$fault:"client",...e}),this.name="InvalidRedirectUriException",this.$fault="client",Object.setPrototypeOf(this,Pe.prototype),this.error=e.error,this.error_description=e.error_description}}const Ie=e=>({...e,...e.clientSecret&&{clientSecret:l.d},...e.refreshToken&&{refreshToken:l.d},...e.codeVerifier&&{codeVerifier:l.d}}),Oe=e=>({...e,...e.accessToken&&{accessToken:l.d},...e.refreshToken&&{refreshToken:l.d},...e.idToken&&{idToken:l.d}});var ke=r(1919);const Ce=async(e,t)=>{const r=(0,c.i)(e,t);let n;return r.bp("/token"),n=JSON.stringify((0,l.A)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:e=>(0,l.f)(e)})),r.m("POST").h({"content-type":"application/json"}).b(n),r.build()},Ae=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return $e(e,t);const r=(0,l.s)({$metadata:Le(e)}),n=(0,l.l)((0,l.m)(await(0,ke.b)(e.body,t)),"body"),s=(0,l.A)(n,{accessToken:l.n,expiresIn:l.k,idToken:l.n,refreshToken:l.n,tokenType:l.n});return Object.assign(r,s),r},$e=async(e,t)=>{const r={...e,body:await(0,ke.c)(e.body,t)},n=(0,ke.a)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Re(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await _e(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await je(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await ze(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Te(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await qe(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Fe(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Me(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Ge(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Ve(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Be(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await He(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await Ue(r,t);case"InvalidRedirectUriException":case"com.amazonaws.ssooidc#InvalidRedirectUriException":throw await Ne(r,t);default:const s=r.body;return De({output:e,parsedBody:s,errorCode:n})}},De=(0,l.B)(pe),Re=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new ue({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},_e=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new le({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},je=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new he({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},ze=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new ge({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},Te=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new me({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},Ue=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new Se({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},qe=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new ye({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},Ne=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new Pe({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},Fe=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new fe({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},He=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{endpoint:l.n,error:l.n,error_description:l.n,region:l.n});Object.assign(r,s);const i=new Ee({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},Me=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new we({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},Ge=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new be({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},Ve=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new ve({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},Be=async(e,t)=>{const r=(0,l.s)({}),n=e.body,s=(0,l.A)(n,{error:l.n,error_description:l.n});Object.assign(r,s);const i=new xe({$metadata:Le(e),...r});return(0,l.i)(i,e.body)},Le=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});class Je extends(l.b.classBuilder().ep({...f}).m((function(e,t,r,n){return[(0,de.a)(r,this.serialize,this.deserialize),(0,p.b)(r,e.getEndpointParameterInstructions())]})).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Ie,Oe).ser(Ce).de(Ae).build()){}},6228:(e,t,r)=>{r.d(t,{a:()=>c});var n=r(5479);const s=e=>new Date(Date.now()+e),i=e=>n.b.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,o=(e,t)=>{const r=Date.parse(e);return((e,t)=>Math.abs(s(t).getTime()-e)>=3e5)(r,t)?r-Date.now():t},a=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t};class c{async sign(e,t,r){if(!n.a.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:i,signer:o,signingRegion:c,signingName:d}=await(async e=>{const t=a("context",e.context),r=a("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=a("signer",r.signer),i=await s(n),o=e?.signingRegion,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingName:c}})(r);return await o.sign(e,{signingDate:s(i.systemClockOffset),signingRegion:c,signingService:d})}errorHandler(e){return t=>{const r=t.ServerTime??i(t.$response);if(r){const n=a("config",e.config),s=n.systemClockOffset;n.systemClockOffset=o(r,n.systemClockOffset),n.systemClockOffset!==s&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){const r=i(e);if(r){const e=a("config",t.config);e.systemClockOffset=o(r,e.systemClockOffset)}}}},5669:(e,t,r)=>{r.d(t,{a:()=>i});var n=r(7503),s=r(5138);const i=e=>{let t;e.credentials&&(t=(0,n.g)(e.credentials,n.f,n.c)),t||(t=e.credentialDefaultProvider?(0,n.h)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:r=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e;let a;return a=e.signer?(0,n.h)(e.signer):e.regionInfoProvider?()=>(0,n.h)(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([n,i])=>{const{signingRegion:a,signingService:c}=n;e.signingRegion=e.signingRegion||a||i,e.signingName=e.signingName||c||e.serviceId;const d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r};return new(e.signerConstructor||s.a)(d)})):async i=>{const a=(i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,n.h)(e.region)(),properties:{}},i)).signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;const d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r};return new(e.signerConstructor||s.a)(d)},{...e,systemClockOffset:i,signingEscapePath:r,credentials:t,signer:a}}},1919:(e,t,r)=>{r.d(t,{a:()=>o,b:()=>s,c:()=>i});var n=r(8218);const s=(e,t)=>(0,n.a)(e,t).then((e=>{if(e.length)try{return JSON.parse(e)}catch(t){throw"SyntaxError"===t?.name&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}return{}})),i=async(e,t)=>{const r=await s(e,t);return r.message=r.message??r.Message,r},o=(e,t)=>{const r=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},n=(s=e.headers,Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==n?r(e.headers[n]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0}}};